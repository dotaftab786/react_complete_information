{"ast":null,"code":"import { LOGIN_REQUEST, LOGIN_SUCCESS, INCORRECT_PASSWORD, USER_NOT_FOUND, LOGOUT_FAILED, LOGOUT_SUCCESS } from \"./Login.state\";\nimport axios from \"axios\";\naxios.defaults.baseURL = \"http://localhost:3434\";\n\nconst loginRequest = formData => {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: LOGIN_REQUEST,\n        data: []\n      });\n      const response = await axios({\n        method: \"post\",\n        url: \"/login\",\n        data: formData\n      });\n      dispatch({\n        type: LOGIN_SUCCESS,\n        payload: response.data\n      });\n    } catch (err) {\n      if (err.response.status === 404) {\n        dispatch({\n          type: USER_NOT_FOUND\n        });\n      } else {\n        dispatch({\n          type: INCORRECT_PASSWORD\n        });\n      }\n    }\n  };\n};\n\nconst logoutRequest = () => {\n  const user = JSON.parse(sessionStorage.getItem(\"user\"));\n  const id = user.id;\n  return async dispatch => {\n    try {\n      const response = await axios({\n        method: \"get\",\n        url: \"/logout/\" + id\n      });\n      dispatch({\n        type: LOGOUT_SUCCESS\n      });\n    } catch (err) {\n      dispatch({\n        type: LOGOUT_FAILED\n      });\n    }\n  };\n};\n\nexport { loginRequest, logoutRequest };","map":{"version":3,"names":["LOGIN_REQUEST","LOGIN_SUCCESS","INCORRECT_PASSWORD","USER_NOT_FOUND","LOGOUT_FAILED","LOGOUT_SUCCESS","axios","defaults","baseURL","loginRequest","formData","dispatch","type","data","response","method","url","payload","err","status","logoutRequest","user","JSON","parse","sessionStorage","getItem","id"],"sources":["C:/Users/Admin/Desktop/react_complete_information/react-redux/src/cmp/Login/Login.action.js"],"sourcesContent":["import {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  INCORRECT_PASSWORD,\r\n  USER_NOT_FOUND,\r\n  LOGOUT_FAILED,\r\n  LOGOUT_SUCCESS\r\n} from \"./Login.state\";\r\n\r\nimport axios from \"axios\";\r\naxios.defaults.baseURL=\"http://localhost:3434\";\r\n\r\nconst loginRequest = (formData)=>{\r\n  return async (dispatch)=>{\r\n    try {\r\n      dispatch({\r\n        type: LOGIN_REQUEST,\r\n        data: []\r\n      })\r\n      const response = await axios({\r\n        method: \"post\",\r\n        url: \"/login\",\r\n        data: formData\r\n      })\r\n      dispatch({\r\n        type: LOGIN_SUCCESS,\r\n        payload: response.data\r\n      })\r\n    } catch (err) {\r\n      if(err.response.status === 404){\r\n        dispatch({\r\n          type: USER_NOT_FOUND\r\n        })\r\n      }else{\r\n        dispatch({\r\n          type: INCORRECT_PASSWORD\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst logoutRequest = ()=>{\r\n  const user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n  const id = user.id;\r\n  return async (dispatch)=>{\r\n    try {\r\n      const response = await axios({\r\n        method: \"get\",\r\n        url: \"/logout/\"+id\r\n      })\r\n      dispatch({\r\n        type: LOGOUT_SUCCESS\r\n      })\r\n    } catch (err) {\r\n      dispatch({\r\n        type:LOGOUT_FAILED\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport {\r\n  loginRequest,\r\n  logoutRequest\r\n}\r\n"],"mappings":"AAAA,SACEA,aADF,EAEEC,aAFF,EAGEC,kBAHF,EAIEC,cAJF,EAKEC,aALF,EAMEC,cANF,QAOO,eAPP;AASA,OAAOC,KAAP,MAAkB,OAAlB;AACAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAuB,uBAAvB;;AAEA,MAAMC,YAAY,GAAIC,QAAD,IAAY;EAC/B,OAAO,MAAOC,QAAP,IAAkB;IACvB,IAAI;MACFA,QAAQ,CAAC;QACPC,IAAI,EAAEZ,aADC;QAEPa,IAAI,EAAE;MAFC,CAAD,CAAR;MAIA,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAAC;QAC3BS,MAAM,EAAE,MADmB;QAE3BC,GAAG,EAAE,QAFsB;QAG3BH,IAAI,EAAEH;MAHqB,CAAD,CAA5B;MAKAC,QAAQ,CAAC;QACPC,IAAI,EAAEX,aADC;QAEPgB,OAAO,EAAEH,QAAQ,CAACD;MAFX,CAAD,CAAR;IAID,CAdD,CAcE,OAAOK,GAAP,EAAY;MACZ,IAAGA,GAAG,CAACJ,QAAJ,CAAaK,MAAb,KAAwB,GAA3B,EAA+B;QAC7BR,QAAQ,CAAC;UACPC,IAAI,EAAET;QADC,CAAD,CAAR;MAGD,CAJD,MAIK;QACHQ,QAAQ,CAAC;UACPC,IAAI,EAAEV;QADC,CAAD,CAAR;MAGD;IACF;EACF,CA1BD;AA2BD,CA5BD;;AA8BA,MAAMkB,aAAa,GAAG,MAAI;EACxB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAAb;EACA,MAAMC,EAAE,GAAGL,IAAI,CAACK,EAAhB;EACA,OAAO,MAAOf,QAAP,IAAkB;IACvB,IAAI;MACF,MAAMG,QAAQ,GAAG,MAAMR,KAAK,CAAC;QAC3BS,MAAM,EAAE,KADmB;QAE3BC,GAAG,EAAE,aAAWU;MAFW,CAAD,CAA5B;MAIAf,QAAQ,CAAC;QACPC,IAAI,EAAEP;MADC,CAAD,CAAR;IAGD,CARD,CAQE,OAAOa,GAAP,EAAY;MACZP,QAAQ,CAAC;QACPC,IAAI,EAACR;MADE,CAAD,CAAR;IAGD;EACF,CAdD;AAeD,CAlBD;;AAoBA,SACEK,YADF,EAEEW,aAFF"},"metadata":{},"sourceType":"module"}