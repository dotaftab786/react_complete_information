{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\react_complete_information\\\\react-redux\\\\src\\\\cmp\\\\guard\\\\AuthGuard.jsx\";\nimport { useAsync } from \"react-async\";\nimport { Outlet, Navigate } from \"react-router\";\nimport Cookies from \"universal-cookie\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = \"http://localhost:3434\";\n\nconst verifyToken = async _ref => {\n  let {\n    token\n  } = _ref;\n\n  try {\n    const response = await axios({\n      method: \"get\",\n      url: \"/verify-token/\" + token\n    });\n    console.log(\"test\", response);\n    return response;\n  } catch (err) {\n    throw new Error(err);\n  }\n};\n\nconst AuthGuard = async () => {\n  const cookie = new Cookies();\n  const token = cookie.get(\"authToken\");\n\n  try {\n    await axios({\n      method: \"get\",\n      url: \"/verify-token/\" + token\n    });\n    return /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }, this);\n  } catch (err) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 12\n    }, this);\n  }\n};\n\n_c = AuthGuard;\nexport default AuthGuard;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthGuard\");","map":{"version":3,"names":["useAsync","Outlet","Navigate","Cookies","axios","defaults","baseURL","verifyToken","token","response","method","url","console","log","err","Error","AuthGuard","cookie","get"],"sources":["C:/Users/Admin/Desktop/react_complete_information/react-redux/src/cmp/guard/AuthGuard.jsx"],"sourcesContent":["import {\r\n  useAsync\r\n} from \"react-async\";\r\n\r\nimport {\r\n  Outlet,\r\n  Navigate\r\n} from \"react-router\";\r\nimport Cookies from \"universal-cookie\";\r\nimport axios from \"axios\";\r\naxios.defaults.baseURL = \"http://localhost:3434\";\r\n\r\nconst verifyToken = async ({token})=>{\r\n    try {\r\n      const response = await axios({\r\n        method: \"get\",\r\n        url: \"/verify-token/\"+token\r\n      })\r\n      console.log(\"test\",response)\r\n      return response;\r\n    } catch (err) {\r\n      throw new Error(err);\r\n    }\r\n}\r\n\r\nconst AuthGuard = async ()=>{\r\n  const cookie = new Cookies();\r\n  const token = cookie.get(\"authToken\");\r\n  try {\r\n    await axios({\r\n      method: \"get\",\r\n      url: \"/verify-token/\"+token\r\n    });\r\n    return <Outlet />\r\n  }\r\n  catch(err)\r\n  {\r\n    return <Navigate to=\"/login\" />;\r\n  }\r\n}\r\nexport default AuthGuard;\r\n"],"mappings":";AAAA,SACEA,QADF,QAEO,aAFP;AAIA,SACEC,MADF,EAEEC,QAFF,QAGO,cAHP;AAIA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,uBAAzB;;AAEA,MAAMC,WAAW,GAAG,cAAiB;EAAA,IAAV;IAACC;EAAD,CAAU;;EACjC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAAC;MAC3BM,MAAM,EAAE,KADmB;MAE3BC,GAAG,EAAE,mBAAiBH;IAFK,CAAD,CAA5B;IAIAI,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBJ,QAAnB;IACA,OAAOA,QAAP;EACD,CAPD,CAOE,OAAOK,GAAP,EAAY;IACZ,MAAM,IAAIC,KAAJ,CAAUD,GAAV,CAAN;EACD;AACJ,CAXD;;AAaA,MAAME,SAAS,GAAG,YAAU;EAC1B,MAAMC,MAAM,GAAG,IAAId,OAAJ,EAAf;EACA,MAAMK,KAAK,GAAGS,MAAM,CAACC,GAAP,CAAW,WAAX,CAAd;;EACA,IAAI;IACF,MAAMd,KAAK,CAAC;MACVM,MAAM,EAAE,KADE;MAEVC,GAAG,EAAE,mBAAiBH;IAFZ,CAAD,CAAX;IAIA,oBAAO,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAAP;EACD,CAND,CAOA,OAAMM,GAAN,EACA;IACE,oBAAO,QAAC,QAAD;MAAU,EAAE,EAAC;IAAb;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;AACF,CAdD;;KAAME,S;AAeN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}