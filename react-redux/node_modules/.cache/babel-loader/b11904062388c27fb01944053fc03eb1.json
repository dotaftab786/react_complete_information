{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\react_complete_information\\\\react-redux\\\\src\\\\cmp\\\\guard\\\\AuthGuard.jsx\",\n    _s = $RefreshSig$();\n\nimport { useAsync } from \"react-async\";\nimport { Outlet, Navigate } from \"react-router\";\nimport Cookies from \"universal-cookie\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = \"http://localhost:3434\";\n\nconst verifyToken = async _ref => {\n  let {\n    token\n  } = _ref;\n\n  try {\n    const response = await axios({\n      method: \"get\",\n      url: \"/verify-token/\" + token\n    });\n    return response;\n  } catch (err) {\n    throw new Error(err);\n  }\n};\n\nconst AuthGuard = () => {\n  _s();\n\n  const cookie = new Cookies();\n  const token = cookie.get(\"authToken\");\n  const {\n    data,\n    error\n  } = useAsync({\n    promiseFn: verifyToken,\n    token: token\n  });\n  console.log(data);\n\n  if (data) {\n    console.log(data);\n    return /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 12\n    }, this);\n  }\n\n  return null;\n};\n\n_s(AuthGuard, \"2v8A6iIOeBxuZhC0SaGgNza9bq8=\", false, function () {\n  return [useAsync];\n});\n\n_c = AuthGuard;\nexport default AuthGuard;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthGuard\");","map":{"version":3,"names":["useAsync","Outlet","Navigate","Cookies","axios","defaults","baseURL","verifyToken","token","response","method","url","err","Error","AuthGuard","cookie","get","data","error","promiseFn","console","log"],"sources":["C:/Users/Admin/Desktop/react_complete_information/react-redux/src/cmp/guard/AuthGuard.jsx"],"sourcesContent":["import {\r\n  useAsync\r\n} from \"react-async\";\r\n\r\nimport {\r\n  Outlet,\r\n  Navigate\r\n} from \"react-router\";\r\nimport Cookies from \"universal-cookie\";\r\nimport axios from \"axios\";\r\naxios.defaults.baseURL = \"http://localhost:3434\";\r\n\r\nconst verifyToken = async ({token})=>{\r\n    try {\r\n      const response = await axios({\r\n        method: \"get\",\r\n        url: \"/verify-token/\"+token\r\n      })\r\n      return response;\r\n    } catch (err) {\r\n      throw new Error(err);\r\n    }\r\n}\r\n\r\nconst AuthGuard = ()=>{\r\n  const cookie = new Cookies();\r\n  const token = cookie.get(\"authToken\");\r\n  const { data , error} = useAsync({\r\n    promiseFn: verifyToken,\r\n    token: token\r\n  });\r\n  console.log(data)\r\n  if(data){\r\n    console.log(data)\r\n    return <Outlet />\r\n  }\r\n  if(error){\r\n    return <Navigate to=\"/login\" />;\r\n  }\r\n  return null;\r\n}\r\nexport default AuthGuard;\r\n"],"mappings":";;;AAAA,SACEA,QADF,QAEO,aAFP;AAIA,SACEC,MADF,EAEEC,QAFF,QAGO,cAHP;AAIA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,uBAAzB;;AAEA,MAAMC,WAAW,GAAG,cAAiB;EAAA,IAAV;IAACC;EAAD,CAAU;;EACjC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAAC;MAC3BM,MAAM,EAAE,KADmB;MAE3BC,GAAG,EAAE,mBAAiBH;IAFK,CAAD,CAA5B;IAIA,OAAOC,QAAP;EACD,CAND,CAME,OAAOG,GAAP,EAAY;IACZ,MAAM,IAAIC,KAAJ,CAAUD,GAAV,CAAN;EACD;AACJ,CAVD;;AAYA,MAAME,SAAS,GAAG,MAAI;EAAA;;EACpB,MAAMC,MAAM,GAAG,IAAIZ,OAAJ,EAAf;EACA,MAAMK,KAAK,GAAGO,MAAM,CAACC,GAAP,CAAW,WAAX,CAAd;EACA,MAAM;IAAEC,IAAF;IAASC;EAAT,IAAkBlB,QAAQ,CAAC;IAC/BmB,SAAS,EAAEZ,WADoB;IAE/BC,KAAK,EAAEA;EAFwB,CAAD,CAAhC;EAIAY,OAAO,CAACC,GAAR,CAAYJ,IAAZ;;EACA,IAAGA,IAAH,EAAQ;IACNG,OAAO,CAACC,GAAR,CAAYJ,IAAZ;IACA,oBAAO,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EACD,IAAGC,KAAH,EAAS;IACP,oBAAO,QAAC,QAAD;MAAU,EAAE,EAAC;IAAb;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EACD,OAAO,IAAP;AACD,CAhBD;;GAAMJ,S;UAGoBd,Q;;;KAHpBc,S;AAiBN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}